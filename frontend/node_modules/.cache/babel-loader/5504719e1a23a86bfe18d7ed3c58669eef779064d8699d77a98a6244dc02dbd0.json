{"ast":null,"code":"var _jsxFileName = \"D:\\\\healthcare\\\\frontend\\\\src\\\\pages\\\\PatientDashboard.js\",\n  _s = $RefreshSig$();\n// Utility to decode JWT token\nfunction parseJwt(token) {\n  if (!token) return {};\n  try {\n    const base64Url = token.split('.')[1];\n    const base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');\n    const jsonPayload = decodeURIComponent(atob(base64).split('').map(function (c) {\n      return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);\n    }).join(''));\n    return JSON.parse(jsonPayload);\n  } catch {\n    return {};\n  }\n}\nimport React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { predictFibromyalgia } from '../api/fibromyalgia';\nimport { generateReport } from '../api/report';\nimport axios from 'axios';\nimport './PatientDashboard.css';\nimport './PatientDashboardChatbot.css';\nimport { sendChatbotMessage } from '../api/chatbot';\nimport FloatingSVGBackground from '../components/FloatingSVGBackground';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction PatientDashboard() {\n  _s();\n  const navigate = useNavigate();\n  const [form, setForm] = useState({\n    age: '',\n    sex: '',\n    ses: '',\n    csi: '',\n    sps: '',\n    sat: ''\n  });\n  const [result, setResult] = useState(null);\n  const [probability, setProbability] = useState(null);\n  const [error, setError] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [report, setReport] = useState(null);\n  const [reportLoading, setReportLoading] = useState(false);\n  // Chatbot state\n  const [chatOpen, setChatOpen] = useState(false);\n  const [chatInput, setChatInput] = useState('');\n  const [chatMessages, setChatMessages] = useState([{\n    sender: 'assistant',\n    text: 'Hi! I am your Fibromyalgia Assistant. Ask me about your prediction or anything related.'\n  }]);\n  const [chatLoading, setChatLoading] = useState(false);\n  const handleChange = e => {\n    setForm({\n      ...form,\n      [e.target.name]: e.target.value\n    });\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setError('');\n    setResult(null);\n    setProbability(null);\n    setLoading(true);\n    setReport(null);\n    try {\n      // Convert fields to numbers\n      const inputData = {\n        age: parseFloat(form.age),\n        sex: parseInt(form.sex),\n        ses: parseFloat(form.ses),\n        csi: parseFloat(form.csi),\n        sps: parseFloat(form.sps),\n        sat: parseFloat(form.sat)\n      };\n      const token = localStorage.getItem('token');\n      const res = await predictFibromyalgia(inputData, token);\n      setResult(res.data.result);\n      setProbability(res.data.probability);\n      // Save inputData for report\n      setForm(prev => ({\n        ...prev,\n        ...inputData\n      }));\n      // Debug: log inputData before report generation\n      console.log('Report inputData:', inputData);\n    } catch (err) {\n      var _err$response, _err$response$data;\n      setError(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.detail) || 'Prediction failed.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Chatbot handlers\n  const handleChatOpen = () => setChatOpen(true);\n  const handleChatClose = () => setChatOpen(false);\n  const handleChatInput = e => setChatInput(e.target.value);\n  const handleChatSubmit = async e => {\n    e.preventDefault();\n    if (!chatInput.trim()) return;\n    setChatMessages(msgs => [...msgs, {\n      sender: 'user',\n      text: chatInput\n    }]);\n    setChatLoading(true);\n    try {\n      const res = await sendChatbotMessage(chatInput, result, probability);\n      setChatMessages(msgs => [...msgs, {\n        sender: 'assistant',\n        text: res.data.response\n      }]);\n    } catch {\n      setChatMessages(msgs => [...msgs, {\n        sender: 'assistant',\n        text: 'Sorry, there was a problem contacting the assistant.'\n      }]);\n    } finally {\n      setChatLoading(false);\n      setChatInput('');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(FloatingSVGBackground, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"patient-dashboard-container\",\n      style: {\n        position: 'relative',\n        zIndex: 1,\n        background: 'rgba(255,255,255,0.85)',\n        borderRadius: '16px',\n        padding: '2rem'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"patient-dashboard-title\",\n        children: \"Patient Dashboard\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          gap: '1em',\n          marginBottom: '1.5em'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          style: {\n            padding: '0.7em 1.2em',\n            fontSize: '1.05rem',\n            borderRadius: '7px',\n            background: '#38b6ff',\n            color: '#fff',\n            border: 'none',\n            fontWeight: 600,\n            cursor: 'pointer',\n            boxShadow: '0 2px 8px rgba(44,62,80,0.08)'\n          },\n          onClick: () => navigate('/patient/appointments'),\n          children: \"View My Appointments\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          style: {\n            padding: '0.7em 1.2em',\n            fontSize: '1.05rem',\n            borderRadius: '7px',\n            background: '#4f8cff',\n            color: '#fff',\n            border: 'none',\n            fontWeight: 600,\n            cursor: 'pointer',\n            boxShadow: '0 2px 8px rgba(44,62,80,0.08)'\n          },\n          onClick: () => navigate('/book-appointment'),\n          children: \"Fix Appointment\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"patient-dashboard-form\",\n        onSubmit: handleSubmit,\n        autoComplete: \"off\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Age\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            name: \"age\",\n            value: form.age,\n            onChange: handleChange,\n            required: true,\n            min: \"0\",\n            max: \"120\",\n            placeholder: \"Enter your age\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Sex (0=Female, 1=Male)\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            name: \"sex\",\n            value: form.sex,\n            onChange: handleChange,\n            required: true,\n            min: \"0\",\n            max: \"1\",\n            placeholder: \"0 for Female, 1 for Male\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Socioeconomic Status (SES)\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            name: \"ses\",\n            value: form.ses,\n            onChange: handleChange,\n            required: true,\n            step: \"any\",\n            placeholder: \"SES score\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"CSI Total Score\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            name: \"csi\",\n            value: form.csi,\n            onChange: handleChange,\n            required: true,\n            step: \"any\",\n            placeholder: \"Central Sensitization Inventory\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"SPS Total Score\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            name: \"sps\",\n            value: form.sps,\n            onChange: handleChange,\n            required: true,\n            step: \"any\",\n            placeholder: \"Sensory Perception Scale\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"SAT Total Score\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            name: \"sat\",\n            value: form.sat,\n            onChange: handleChange,\n            required: true,\n            step: \"any\",\n            placeholder: \"Sleep Assessment Tool\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          disabled: loading,\n          children: loading ? 'Predicting...' : 'Predict Fibromyalgia Risk'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"patient-dashboard-error\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 19\n      }, this), result && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"patient-dashboard-result\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"risk\",\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: result.icon,\n            style: {\n              fontSize: '1.5em',\n              verticalAlign: 'middle',\n              marginRight: '0.5em'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 15\n          }, this), result.label]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"probability\",\n          children: [\"Probability: \", probability, \"%\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"patient-dashboard-report-btn\",\n          style: {\n            marginTop: '1.2em',\n            padding: '0.7em 1.2em',\n            fontSize: '1.05rem',\n            borderRadius: '7px',\n            background: '#4f8cff',\n            color: '#fff',\n            border: 'none',\n            fontWeight: 600,\n            cursor: 'pointer',\n            boxShadow: '0 2px 8px rgba(44,62,80,0.08)'\n          },\n          disabled: reportLoading,\n          onClick: async () => {\n            setReportLoading(true);\n            setReport(null);\n            try {\n              const token = localStorage.getItem('token');\n              let full_name = window.localStorage.getItem('full_name') || '';\n              let email = window.localStorage.getItem('email') || '';\n              if (!full_name || !email) {\n                const payload = parseJwt(token);\n                if (!full_name && payload.full_name) full_name = payload.full_name;\n                if (!email && payload.sub) email = payload.sub;\n              }\n              // Debug: log extracted values\n              console.log('Extracted full_name:', full_name, 'Extracted email:', email);\n              if (!full_name) full_name = '-';\n              const inputData = {\n                age: parseFloat(form.age),\n                sex: parseInt(form.sex),\n                ses: parseFloat(form.ses),\n                csi: parseFloat(form.csi),\n                sps: parseFloat(form.sps),\n                sat: parseFloat(form.sat),\n                full_name,\n                email\n              };\n              const res = await generateReport(inputData, result, probability, token);\n              setReport(res.data);\n            } catch {\n              setReport({\n                error: 'Failed to generate report.'\n              });\n            } finally {\n              setReportLoading(false);\n            }\n          },\n          children: reportLoading ? 'Generating Report...' : 'Generate Report'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 11\n      }, this), report && !report.error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"patient-dashboard-report\",\n        style: {\n          marginTop: '2em',\n          background: '#f8fafc',\n          borderRadius: '12px',\n          boxShadow: '0 2px 8px rgba(44,62,80,0.06)',\n          padding: '1.5em 1.2em'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          style: {\n            color: '#2d3a4b',\n            fontWeight: 700,\n            marginBottom: '1em'\n          },\n          children: report.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          style: {\n            listStyle: 'none',\n            padding: 0\n          },\n          children: Object.entries(report.fields).map(([key, value]) => /*#__PURE__*/_jsxDEV(\"li\", {\n            style: {\n              marginBottom: '0.7em',\n              fontSize: '1.08rem'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: [key, \":\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 210,\n              columnNumber: 86\n            }, this), \" \", value]\n          }, key, true, {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: '1.2em',\n            color: '#3a4a5d',\n            fontSize: '1.05rem'\n          },\n          children: report.summary\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"patient-dashboard-report-btn\",\n          style: {\n            marginTop: '1.5em',\n            padding: '0.7em 1.2em',\n            fontSize: '1.05rem',\n            borderRadius: '7px',\n            background: '#38b6ff',\n            color: '#fff',\n            border: 'none',\n            fontWeight: 600,\n            cursor: 'pointer',\n            boxShadow: '0 2px 8px rgba(44,62,80,0.08)'\n          },\n          onClick: async () => {\n            try {\n              const token = localStorage.getItem('token');\n              let full_name = window.localStorage.getItem('full_name') || '';\n              let email = window.localStorage.getItem('email') || '';\n              if (!full_name || !email) {\n                const payload = parseJwt(token);\n                if (!full_name && payload.full_name) full_name = payload.full_name;\n                if (!email && payload.sub) email = payload.sub;\n              }\n              const inputData = {\n                age: parseFloat(form.age),\n                sex: parseInt(form.sex),\n                ses: parseFloat(form.ses),\n                csi: parseFloat(form.csi),\n                sps: parseFloat(form.sps),\n                sat: parseFloat(form.sat),\n                result,\n                probability,\n                full_name,\n                email\n              };\n              // Debug: log inputData before PDF download\n              console.log('PDF inputData:', inputData);\n              const res = await axios.post((process.env.REACT_APP_BACKEND_URL || 'http://localhost:8000') + '/download_report', inputData, {\n                headers: {\n                  'Content-Type': 'application/json',\n                  ...(token && {\n                    Authorization: `Bearer ${token}`\n                  })\n                },\n                responseType: 'blob'\n              });\n              const url = window.URL.createObjectURL(new Blob([res.data], {\n                type: 'application/pdf'\n              }));\n              const link = document.createElement('a');\n              link.href = url;\n              link.setAttribute('download', 'Fibromyalgia_Report.pdf');\n              document.body.appendChild(link);\n              link.click();\n              link.parentNode.removeChild(link);\n            } catch {\n              alert('Failed to download PDF report.');\n            }\n          },\n          children: \"Download PDF\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 11\n      }, this), report && report.error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"patient-dashboard-error\",\n        children: report.error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chatbot-fab\",\n        title: \"Chat with Fibromyalgia Assistant\",\n        onClick: handleChatOpen,\n        style: {\n          display: chatOpen ? 'none' : 'flex'\n        },\n        children: \"\\uD83D\\uDCAC\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `chatbot-sidebar${chatOpen ? '' : ' chatbot-closed'}`,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chatbot-header\",\n          children: [\"Fibromyalgia Assistant\", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"chatbot-close\",\n            title: \"Close\",\n            onClick: handleChatClose,\n            children: \"\\xD7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 279,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chatbot-messages\",\n          id: \"chatbot-messages\",\n          children: [chatMessages.map((msg, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: msg.sender === 'user' ? 'chatbot-user' : 'chatbot-assistant',\n            children: msg.text\n          }, idx, false, {\n            fileName: _jsxFileName,\n            lineNumber: 283,\n            columnNumber: 15\n          }, this)), chatLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"chatbot-assistant\",\n            children: \"...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 287,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          className: \"chatbot-form\",\n          onSubmit: handleChatSubmit,\n          autoComplete: \"off\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: chatInput,\n            onChange: handleChatInput,\n            placeholder: \"Ask about your result...\",\n            maxLength: 200,\n            disabled: chatLoading,\n            className: \"chatbot-input\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 290,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            disabled: chatLoading || !chatInput.trim(),\n            children: \"Send\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 299,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chatbot-disclaimer\",\n          children: \"This information is for educational purposes only and does not replace professional medical advice.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 301,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s(PatientDashboard, \"kXu6qmeefShYPGvVVh03PKMsZ28=\", false, function () {\n  return [useNavigate];\n});\n_c = PatientDashboard;\nexport default PatientDashboard;\nvar _c;\n$RefreshReg$(_c, \"PatientDashboard\");","map":{"version":3,"names":["parseJwt","token","base64Url","split","base64","replace","jsonPayload","decodeURIComponent","atob","map","c","charCodeAt","toString","slice","join","JSON","parse","React","useState","useNavigate","predictFibromyalgia","generateReport","axios","sendChatbotMessage","FloatingSVGBackground","jsxDEV","_jsxDEV","Fragment","_Fragment","PatientDashboard","_s","navigate","form","setForm","age","sex","ses","csi","sps","sat","result","setResult","probability","setProbability","error","setError","loading","setLoading","report","setReport","reportLoading","setReportLoading","chatOpen","setChatOpen","chatInput","setChatInput","chatMessages","setChatMessages","sender","text","chatLoading","setChatLoading","handleChange","e","target","name","value","handleSubmit","preventDefault","inputData","parseFloat","parseInt","localStorage","getItem","res","data","prev","console","log","err","_err$response","_err$response$data","response","detail","handleChatOpen","handleChatClose","handleChatInput","handleChatSubmit","trim","msgs","children","fileName","_jsxFileName","lineNumber","columnNumber","className","style","position","zIndex","background","borderRadius","padding","display","gap","marginBottom","fontSize","color","border","fontWeight","cursor","boxShadow","onClick","onSubmit","autoComplete","type","onChange","required","min","max","placeholder","step","disabled","icon","verticalAlign","marginRight","label","marginTop","full_name","window","email","payload","sub","title","listStyle","Object","entries","fields","key","summary","post","process","env","REACT_APP_BACKEND_URL","headers","Authorization","responseType","url","URL","createObjectURL","Blob","link","document","createElement","href","setAttribute","body","appendChild","click","parentNode","removeChild","alert","id","msg","idx","maxLength","_c","$RefreshReg$"],"sources":["D:/healthcare/frontend/src/pages/PatientDashboard.js"],"sourcesContent":["// Utility to decode JWT token\r\nfunction parseJwt (token) {\r\n  if (!token) return {};\r\n  try {\r\n    const base64Url = token.split('.')[1];\r\n    const base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');\r\n    const jsonPayload = decodeURIComponent(atob(base64).split('').map(function(c) {\r\n      return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);\r\n    }).join(''));\r\n    return JSON.parse(jsonPayload);\r\n  } catch {\r\n    return {};\r\n  }\r\n}\r\n\r\n\r\nimport React, { useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { predictFibromyalgia } from '../api/fibromyalgia';\r\nimport { generateReport } from '../api/report';\r\nimport axios from 'axios';\r\nimport './PatientDashboard.css';\r\nimport './PatientDashboardChatbot.css';\r\nimport { sendChatbotMessage } from '../api/chatbot';\r\nimport FloatingSVGBackground from '../components/FloatingSVGBackground';\r\n\r\nfunction PatientDashboard() {\r\n  const navigate = useNavigate();\r\n  const [form, setForm] = useState({\r\n    age: '',\r\n    sex: '',\r\n    ses: '',\r\n    csi: '',\r\n    sps: '',\r\n    sat: ''\r\n  });\r\n  const [result, setResult] = useState(null);\r\n  const [probability, setProbability] = useState(null);\r\n  const [error, setError] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n  const [report, setReport] = useState(null);\r\n  const [reportLoading, setReportLoading] = useState(false);\r\n  // Chatbot state\r\n  const [chatOpen, setChatOpen] = useState(false);\r\n  const [chatInput, setChatInput] = useState('');\r\n  const [chatMessages, setChatMessages] = useState([\r\n    { sender: 'assistant', text: 'Hi! I am your Fibromyalgia Assistant. Ask me about your prediction or anything related.' }\r\n  ]);\r\n  const [chatLoading, setChatLoading] = useState(false);\r\n\r\n  const handleChange = (e) => {\r\n    setForm({ ...form, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setError('');\r\n    setResult(null);\r\n    setProbability(null);\r\n    setLoading(true);\r\n    setReport(null);\r\n    try {\r\n      // Convert fields to numbers\r\n      const inputData = {\r\n        age: parseFloat(form.age),\r\n        sex: parseInt(form.sex),\r\n        ses: parseFloat(form.ses),\r\n        csi: parseFloat(form.csi),\r\n        sps: parseFloat(form.sps),\r\n        sat: parseFloat(form.sat)\r\n      };\r\n      const token = localStorage.getItem('token');\r\n      const res = await predictFibromyalgia(inputData, token);\r\n      setResult(res.data.result);\r\n      setProbability(res.data.probability);\r\n      // Save inputData for report\r\n      setForm((prev) => ({ ...prev, ...inputData }));\r\n                // Debug: log inputData before report generation\r\n                console.log('Report inputData:', inputData);\r\n    } catch (err) {\r\n      setError(err.response?.data?.detail || 'Prediction failed.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Chatbot handlers\r\n  const handleChatOpen = () => setChatOpen(true);\r\n  const handleChatClose = () => setChatOpen(false);\r\n  const handleChatInput = (e) => setChatInput(e.target.value);\r\n  const handleChatSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (!chatInput.trim()) return;\r\n    setChatMessages((msgs) => [...msgs, { sender: 'user', text: chatInput }]);\r\n    setChatLoading(true);\r\n    try {\r\n      const res = await sendChatbotMessage(\r\n        chatInput,\r\n        result,\r\n        probability\r\n      );\r\n      setChatMessages((msgs) => [\r\n        ...msgs,\r\n        { sender: 'assistant', text: res.data.response }\r\n      ]);\r\n    } catch {\r\n      setChatMessages((msgs) => [\r\n        ...msgs,\r\n        { sender: 'assistant', text: 'Sorry, there was a problem contacting the assistant.' }\r\n      ]);\r\n    } finally {\r\n      setChatLoading(false);\r\n      setChatInput('');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <FloatingSVGBackground />\r\n      <div className=\"patient-dashboard-container\" style={{ position: 'relative', zIndex: 1, background: 'rgba(255,255,255,0.85)', borderRadius: '16px', padding: '2rem' }}>\r\n        <div className=\"patient-dashboard-title\">Patient Dashboard</div>\r\n        <div style={{ display: 'flex', gap: '1em', marginBottom: '1.5em' }}>\r\n          <button\r\n            style={{ padding: '0.7em 1.2em', fontSize: '1.05rem', borderRadius: '7px', background: '#38b6ff', color: '#fff', border: 'none', fontWeight: 600, cursor: 'pointer', boxShadow: '0 2px 8px rgba(44,62,80,0.08)' }}\r\n            onClick={() => navigate('/patient/appointments')}\r\n          >\r\n            View My Appointments\r\n          </button>\r\n          <button\r\n            style={{ padding: '0.7em 1.2em', fontSize: '1.05rem', borderRadius: '7px', background: '#4f8cff', color: '#fff', border: 'none', fontWeight: 600, cursor: 'pointer', boxShadow: '0 2px 8px rgba(44,62,80,0.08)' }}\r\n            onClick={() => navigate('/book-appointment')}\r\n          >\r\n            Fix Appointment\r\n          </button>\r\n        </div>\r\n        <form className=\"patient-dashboard-form\" onSubmit={handleSubmit} autoComplete=\"off\">\r\n          <label>Age\r\n            <input type=\"number\" name=\"age\" value={form.age} onChange={handleChange} required min=\"0\" max=\"120\" placeholder=\"Enter your age\" />\r\n          </label>\r\n          <label>Sex (0=Female, 1=Male)\r\n            <input type=\"number\" name=\"sex\" value={form.sex} onChange={handleChange} required min=\"0\" max=\"1\" placeholder=\"0 for Female, 1 for Male\" />\r\n          </label>\r\n          <label>Socioeconomic Status (SES)\r\n            <input type=\"number\" name=\"ses\" value={form.ses} onChange={handleChange} required step=\"any\" placeholder=\"SES score\" />\r\n          </label>\r\n          <label>CSI Total Score\r\n            <input type=\"number\" name=\"csi\" value={form.csi} onChange={handleChange} required step=\"any\" placeholder=\"Central Sensitization Inventory\" />\r\n          </label>\r\n          <label>SPS Total Score\r\n            <input type=\"number\" name=\"sps\" value={form.sps} onChange={handleChange} required step=\"any\" placeholder=\"Sensory Perception Scale\" />\r\n          </label>\r\n          <label>SAT Total Score\r\n            <input type=\"number\" name=\"sat\" value={form.sat} onChange={handleChange} required step=\"any\" placeholder=\"Sleep Assessment Tool\" />\r\n          </label>\r\n          <button type=\"submit\" disabled={loading}>{loading ? 'Predicting...' : 'Predict Fibromyalgia Risk'}</button>\r\n        </form>\r\n        {error && <div className=\"patient-dashboard-error\">{error}</div>}\r\n        {result && (\r\n          <div className=\"patient-dashboard-result\">\r\n            <span className=\"risk\">\r\n              <i className={result.icon} style={{ fontSize: '1.5em', verticalAlign: 'middle', marginRight: '0.5em' }}></i>\r\n              {result.label}\r\n            </span>\r\n            <span className=\"probability\">Probability: {probability}%</span>\r\n            <button\r\n              className=\"patient-dashboard-report-btn\"\r\n              style={{ marginTop: '1.2em', padding: '0.7em 1.2em', fontSize: '1.05rem', borderRadius: '7px', background: '#4f8cff', color: '#fff', border: 'none', fontWeight: 600, cursor: 'pointer', boxShadow: '0 2px 8px rgba(44,62,80,0.08)' }}\r\n              disabled={reportLoading}\r\n              onClick={async () => {\r\n                setReportLoading(true);\r\n                setReport(null);\r\n                try {\r\n                  const token = localStorage.getItem('token');\r\n                  let full_name = window.localStorage.getItem('full_name') || '';\r\n                  let email = window.localStorage.getItem('email') || '';\r\n                  if (!full_name || !email) {\r\n                    const payload = parseJwt(token);\r\n                    if (!full_name && payload.full_name) full_name = payload.full_name;\r\n                    if (!email && payload.sub) email = payload.sub;\r\n                  }\r\n                  // Debug: log extracted values\r\n                  console.log('Extracted full_name:', full_name, 'Extracted email:', email);\r\n                  if (!full_name) full_name = '-';\r\n                  const inputData = {\r\n                    age: parseFloat(form.age),\r\n                    sex: parseInt(form.sex),\r\n                    ses: parseFloat(form.ses),\r\n                    csi: parseFloat(form.csi),\r\n                    sps: parseFloat(form.sps),\r\n                    sat: parseFloat(form.sat),\r\n                    full_name,\r\n                    email\r\n                  };\r\n                  const res = await generateReport(inputData, result, probability, token);\r\n                  setReport(res.data);\r\n                } catch {\r\n                  setReport({ error: 'Failed to generate report.' });\r\n                } finally {\r\n                  setReportLoading(false);\r\n                }\r\n              }}\r\n            >{reportLoading ? 'Generating Report...' : 'Generate Report'}</button>\r\n          </div>\r\n        )}\r\n        {report && !report.error && (\r\n          <div className=\"patient-dashboard-report\" style={{ marginTop: '2em', background: '#f8fafc', borderRadius: '12px', boxShadow: '0 2px 8px rgba(44,62,80,0.06)', padding: '1.5em 1.2em' }}>\r\n            <h3 style={{ color: '#2d3a4b', fontWeight: 700, marginBottom: '1em' }}>{report.title}</h3>\r\n            <ul style={{ listStyle: 'none', padding: 0 }}>\r\n              {Object.entries(report.fields).map(([key, value]) => (\r\n                <li key={key} style={{ marginBottom: '0.7em', fontSize: '1.08rem' }}><strong>{key}:</strong> {value}</li>\r\n              ))}\r\n            </ul>\r\n            <div style={{ marginTop: '1.2em', color: '#3a4a5d', fontSize: '1.05rem' }}>{report.summary}</div>\r\n            <button\r\n              className=\"patient-dashboard-report-btn\"\r\n              style={{ marginTop: '1.5em', padding: '0.7em 1.2em', fontSize: '1.05rem', borderRadius: '7px', background: '#38b6ff', color: '#fff', border: 'none', fontWeight: 600, cursor: 'pointer', boxShadow: '0 2px 8px rgba(44,62,80,0.08)' }}\r\n              onClick={async () => {\r\n                try {\r\n                  const token = localStorage.getItem('token');\r\n                  let full_name = window.localStorage.getItem('full_name') || '';\r\n                  let email = window.localStorage.getItem('email') || '';\r\n                  if (!full_name || !email) {\r\n                    const payload = parseJwt(token);\r\n                    if (!full_name && payload.full_name) full_name = payload.full_name;\r\n                    if (!email && payload.sub) email = payload.sub;\r\n                  }\r\n                  const inputData = {\r\n                    age: parseFloat(form.age),\r\n                    sex: parseInt(form.sex),\r\n                    ses: parseFloat(form.ses),\r\n                    csi: parseFloat(form.csi),\r\n                    sps: parseFloat(form.sps),\r\n                    sat: parseFloat(form.sat),\r\n                    result,\r\n                    probability,\r\n                    full_name,\r\n                    email\r\n                  };\r\n                  // Debug: log inputData before PDF download\r\n                  console.log('PDF inputData:', inputData);\r\n                  const res = await axios.post(\r\n                    (process.env.REACT_APP_BACKEND_URL || 'http://localhost:8000') + '/download_report',\r\n                    inputData,\r\n                    {\r\n                      headers: { 'Content-Type': 'application/json', ...(token && { Authorization: `Bearer ${token}` }) },\r\n                      responseType: 'blob'\r\n                    }\r\n                  );\r\n                  const url = window.URL.createObjectURL(new Blob([res.data], { type: 'application/pdf' }));\r\n                  const link = document.createElement('a');\r\n                  link.href = url;\r\n                  link.setAttribute('download', 'Fibromyalgia_Report.pdf');\r\n                  document.body.appendChild(link);\r\n                  link.click();\r\n                  link.parentNode.removeChild(link);\r\n                } catch {\r\n                  alert('Failed to download PDF report.');\r\n                }\r\n              }}\r\n            >Download PDF</button>\r\n          </div>\r\n        )}\r\n        {report && report.error && (\r\n          <div className=\"patient-dashboard-error\">{report.error}</div>\r\n        )}\r\n\r\n        {/* Chatbot Floating Button */}\r\n        <div\r\n          className=\"chatbot-fab\"\r\n          title=\"Chat with Fibromyalgia Assistant\"\r\n          onClick={handleChatOpen}\r\n          style={{ display: chatOpen ? 'none' : 'flex' }}\r\n        >ðŸ’¬</div>\r\n\r\n        {/* Chatbot Sidebar */}\r\n        <div className={`chatbot-sidebar${chatOpen ? '' : ' chatbot-closed'}`}>\r\n          <div className=\"chatbot-header\">\r\n            Fibromyalgia Assistant\r\n            <span className=\"chatbot-close\" title=\"Close\" onClick={handleChatClose}>Ã—</span>\r\n          </div>\r\n          <div className=\"chatbot-messages\" id=\"chatbot-messages\">\r\n            {chatMessages.map((msg, idx) => (\r\n              <div key={idx} className={msg.sender === 'user' ? 'chatbot-user' : 'chatbot-assistant'}>\r\n                {msg.text}\r\n              </div>\r\n            ))}\r\n            {chatLoading && <div className=\"chatbot-assistant\">...</div>}\r\n          </div>\r\n          <form className=\"chatbot-form\" onSubmit={handleChatSubmit} autoComplete=\"off\">\r\n            <input\r\n              type=\"text\"\r\n              value={chatInput}\r\n              onChange={handleChatInput}\r\n              placeholder=\"Ask about your result...\"\r\n              maxLength={200}\r\n              disabled={chatLoading}\r\n              className=\"chatbot-input\"\r\n            />\r\n            <button type=\"submit\" disabled={chatLoading || !chatInput.trim()}>Send</button>\r\n          </form>\r\n          <div className=\"chatbot-disclaimer\">\r\n            This information is for educational purposes only and does not replace professional medical advice.\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default PatientDashboard;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}